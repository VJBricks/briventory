package orm.models;

import org.jooq.DSLContext;
import org.jooq.UpdatableRecord;

/**
 * The {@code PersistableModel3} should be used for models that needs four {@link UpdatableRecord} to be persisted into
 * the database. Each time a {@link UpdatableRecord} has been persisted, as it has been refreshed with the autogenerated
 * * fields, it is provided back to the model to refresh those particular fields.
 *
 * @param <R1> the first precise subtype of {@link UpdatableRecord}.
 * @param <R2> the second precise subtype of {@link UpdatableRecord}.
 * @param <R3> the third precise subtype of {@link UpdatableRecord}.
 * @param <R4> the fourth precise subtype of {@link UpdatableRecord}.
 */
public interface PersistableModel4<R1 extends UpdatableRecord<R1>,
                                      R2 extends UpdatableRecord<R2>,
                                      R3 extends UpdatableRecord<R3>,
                                      R4 extends UpdatableRecord<R4>> extends PersistableModel3<R1, R2, R3> {

  /**
   * Creates the instance of {@link R4}, matching this model.
   *
   * @param dslContext the {@link DSLContext}.
   *
   * @return the {@link R4}.
   */
  R4 createRecord4(DSLContext dslContext);

  /**
   * Refreshes the model with the updated {@link R4}.
   *
   * @param r4 the {@link R4}, that has been refreshed from the database with autogenerated fields.
   */
  void refresh4(R4 r4);

}
